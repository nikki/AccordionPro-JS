(function(b){var a=function(s,f){var j={},r={},t={},l={},p={};j={orientation:"horizontal",startClosed:false,firstSlide:1,theme:"basic",rounded:false,rtl:false,showSlideNumbers:true,responsive:true,scaleImagesToFit:true,horizontalWidth:900,horizontalHeight:300,verticalWidth:"100%",verticalHeight:500,verticalSlideHeight:"fixed",activateOn:"click",touchEnabled:true,onSlideOpen:function(){},onSlideClose:function(){},autoPlay:false,cycleSpeed:6000,slideSpeed:800,easing:"ease-in-out",pauseOnHover:true,linkable:false};r=b.extend({},j,f);var i={w:0,h:0},n=s.children("ol").children("li"),c={w:0,h:0,l:0},q=n.children(":first-child"),d={w:0,h:48},k=0,o=0,g=0,e=r.orientation==="horizontal"?1:0,u=["linear","ease","ease-in","ease-out","ease-in-out"],m=b.inArray(r.easing,u)>=0?r.easing:j.easing,h=!e&&r.verticalSlideHeight==="fitToContent"?true:false,v=(r.theme==="transparent");t.play=function(w){var x;if(p.playing){return}x=p.nextSlide(w&&w);p.playing=setTimeout(function(){q.eq(x()).trigger("click.accordionPro")},r.cycleSpeed)};t.stop=function(){clearTimeout(p.playing);p.playing=0};t.next=function(){t.stop();q.eq(p.currentSlide===c.length-1?0:p.currentSlide+1).trigger("click.accordionPro")};t.prev=function(){t.stop();q.eq(p.currentSlide-1).trigger("click.accordionPro")};t.destroy=function(){t.stop();b(window).off(".accordionPro");s.off(".accordionPro").removeData("accordionPro").removeAttr("style").removeClass("accordionPro horizontal vertical basic dark light stitch transparent rounded rtl closed responsive scaleImages").find("li > :first-child").off(".accordionPro").end().find("b").remove();n.removeClass("slide selected").removeAttr("style").removeAttr("data-slide-name").children().removeAttr("style")};t.debug=function(){return{elem:s,defaults:j,settings:r,methods:t,setup:l,core:p}};l.styles=function(){s.outerWidth(e?r.horizontalWidth:r.verticalWidth).outerHeight(e?r.horizontalHeight:r.verticalHeight).addClass("accordionPro").addClass(e?"horizontal":"vertical").addClass(r.rounded&&"rounded").addClass(r.theme).addClass(r.rtl&&"rtl").addClass(r.scaleImagesToFit&&"scaleImages");n.addClass("slide");c.l=n.length};l.dimensions=function(){var w=n.eq(0).children("div");i.w=s.width();i.h=s.height();o=s.outerHeight()-s.height();g=parseInt(w.css("marginLeft"),10)||parseInt(w.css("marginRight"),10)||parseInt(w.css("marginBottom"),10)||0;if(e){k=parseInt(s.css("paddingLeft"),10)+parseInt(s.css("paddingRight"),10)}else{k=parseInt(s.css("paddingTop"),10)+parseInt(s.css("paddingBottom"),10)}};l.getSlideCss=function(w,y){var z=0,x={slide:{},tab:{},panel:{}};if(e){c.w=i.w-c.l*d.h;c.h=i.h;x.slide.width=c.w+d.h;x.slide.height="100%";x.slide.position={left:w*d.h,top:0};x.tab.width=c.h;if(!v){x.panel.width=c.w-g;x.panel.height=c.h;x.panel.position={left:d.h,top:0}}else{x.panel.width=c.w+d.h;x.panel.height=c.h;x.panel.position={left:0,top:0}}if(r.rtl){x.slide.position={left:"auto",right:w*d.h,top:0};if(!v){x.panel.position={left:"auto",right:d.h-g,top:0}}else{x.panel.position={left:"auto",right:0-g,top:0}}}if(y.length&&w>n.index(y)){x.slide.position[r.rtl?"right":"left"]+=c.w}}else{c.w=q.eq(0).width();c.h=i.h-c.l*d.h;if(h){this.children("div").children().each(function(){z+=b(this).outerHeight()});if(!v){x.slide.height=z+d.h+g;x.panel.height=z}else{}}else{x.slide.height=c.h+d.h;if(!v){x.panel.height=x.slide.height-d.h-g}else{x.panel.height=x.slide.height}}if(!v){x.panel.position={top:d.h,left:0}}else{x.panel.position={top:0,left:0}}x.slide.position={top:w*d.h,left:0};x.slide.width=x.tab.width=x.panel.width="100%";if(y.length){if(w>n.index(y)){if(h){x.slide.position.top+=y.height()-d.h}else{x.slide.position.top+=c.h}}}}return x};l.slidePositions=function(){var w=n.filter(".selected");if(!w.length&&!r.startClosed){n.eq(r.firstSlide-1).addClass("selected");w=n.filter(".selected")}n.each(function(y){var B=b(this),z=l.getSlideCss.call(B,y,w),A=B.children("h2"),x=A.children("b");B.width(z.slide.width).height(z.slide.height).css(z.slide.position).attr("data-slide-name",s[0].id+"-slide-"+(y+1)).children("h2").width(z.tab.width).height(d.h).next().width(z.panel.width).height(z.panel.height).css(z.panel.position);if(r.showSlideNumbers){if(x.length){return}A.append("<b>"+(y+1)+"</b>")}else{if(x.length){x.hide()}}if(s.hasClass("ie8")&&s.hasClass("horizontal")&&s.hasClass("rtl")){B.children("h2").css("marginRight",-(c.h-d.h))}});if(h&&!s.hasClass("closed")){p.fitToContent(w)}};l.startClosed=function(){if(r.startClosed){s.addClass("closed")}if(e){s.css("width",(c.l*d.h)+(o/2)+(k*2)-1)}else{s.css("height",c.l*d.h+o)}};l.events=function(){var w=0;if(r.activateOn==="click"){q.on("click.accordionPro touchstart.accordionPro",p.animationCycle);if(r.startClosed){q.on("click.accordionPro.closed touchstart.accordionPro.closed",p.startClosed)}}else{if(r.activateOn==="mouseover"){q.on("click.accordionPro touchstart.accordionPro mouseover.accordionPro",p.animationCycle);if(r.startClosed){q.on("click.accordionPro.closed touchstart.accordionPro.closed mouseover.accordionPro.closed",p.startClosed)}}}if(Modernizr.touch&&r.touchEnabled){n.swipe({left:function(){if(e){if(r.rtl){if(p.currentSlide){t.prev()}}else{t.next()}}},right:function(){if(e){if(r.rtl){t.next()}else{if(p.currentSlide){t.prev()}}}},up:function(){if(!e){t.next()}},down:function(){if(!e&&p.currentSlide){t.prev()}},threshold:{x:100,y:100}})}if(r.pauseOnHover&&r.autoPlay){s.on("mouseover.accordionPro",function(){p.playing&&t.stop()}).on("mouseout.accordionPro",function(){!p.playing&&t.play(p.currentSlide)})}if(r.linkable){b(window).on("load.accordionPro hashchange.accordionPro",function(y){var x=n.filter(function(){return b(this).attr("data-slide-name")===window.location.hash.split("#")[1]});if(x.length){p.animationCycle.call(x.children("h2")[0],y)}})}if(e&&r.responsive){p.scale();b(window).on("resize.accordionPro orientationchange.accordionPro",function(){clearTimeout(w);w=setTimeout(function(){p.scale()},200)})}};l.ie=function(){var x=navigator.userAgent,w=x.indexOf("MSIE");if(w<0){return}if(w!==-1){x=x.slice(w+5,w+7);x=+x;if(x<=7){t.destroy()}if(x>=10){return}if(x===8){if(e){if(!r.startClosed){s.children("ol").css({"min-width":r.horizontalWidth-o+k,"min-height":r.horizontalHeight-o})}else{s.children("ol").css({"min-width":c.l*d.h,"min-height":r.horizontalHeight-o})}}n.each(function(y){b(this).addClass("slide-"+y).css({"min-height":r.horizontalHeight-o})})}s.addClass("ie ie"+x)}};p.startClosed=function(){if(s.hasClass("closed")){if(e){s.css("width",r.horizontalWidth);if(s.hasClass("ie8")){s.children("ol").css({"min-width":r.horizontalWidth-o+k})}}else{s.animate({height:h?(c.l-1)*d.h+o+n.filter(".selected").height():r.verticalHeight},r.slideSpeed)}s.removeClass("closed");q.off("click.accordionPro.closed touchstart.accordionPro.closed mouseover.accordionPro.closed");if(e&&r.responsive){p.scale()}}};p.fitToContent=function(w){if(!s.hasClass("closed")){s.animate({height:(c.l-1)*d.h+o+w.height()},r.slideSpeed);s.height((c.l-1)*d.h+w.height())}};p.scale=function(){var x=Math.min(s.parent().outerWidth(true)/r.horizontalWidth);var w;x=(Math.min(x,1)).toFixed(2);if(!s.hasClass("ie8")){s.css(Modernizr.prefixed("transform"),"scale("+x+")");if(e){s.css("margin-bottom",-(r.horizontalHeight-(r.horizontalHeight*x)).toFixed(2))}}else{s.css("zoom",x)}};p.currentSlide=r.firstSlide-1;p.previousSlide=p.currentSlide;p.nextSlide=function(w){var x=w+1||p.currentSlide+1;return function(){return x++%c.l}};p.playing=0;p.animationFlag=false;p.getSlidePosition=function(x,y){var w={};if(typeof y==="number"){if(e){if(r.rtl){w={right:y+x*d.h}}else{w={left:y+x*d.h}}}else{w={top:y+x*d.h}}}else{if(e){if(r.rtl){w={right:c.w+x*d.h}}else{w={left:c.w+x*d.h}}}else{w={top:c.h+x*d.h}}}return w};p.animationCycle=function(y){var x=b(this),w={slide:x.parent(),index:q.index(x)};w.next=w.slide.next();w.prev=w.slide.prev();p.previousSlide=p.currentSlide;p.currentSlide=w.index;p.animationFlag=false;if(w.slide.hasClass("selected")){r.onSlideOpen.call(w.prev.children("div")[0]);if(e){if((r.rtl&&w.slide.position().left>i.w/2)||w.slide.position().left<i.w/2){p.animateSlide.call(w)}}else{if(h&&w.index){p.animateGroup(w,true);p.fitToContent(w.prev)}else{if(w.slide.position().top<i.h/2){p.animateSlide.call(w)}}}}else{setTimeout(function(){r.onSlideOpen.call(w.slide.children("div")[0])},r.slideSpeed);p.animateGroup(w);if(h){p.fitToContent(w.slide)}}if(r.autoPlay){t.stop();t.play(q.index(n.filter(".selected")))}};p.animateSlide=function(x){var w;if(typeof this.position==="undefined"){this.position=p.getSlidePosition.call(this,this.index);if(this.index){n.removeClass("selected").filter(this.prev).addClass("selected")}}else{if(typeof this.position==="number"){w=this.position;this.position=p.getSlidePosition(this.index,w)}}if(this.index){p.transition.call(this,x)}};p.animateGroup=function(w,y){var x=["left","right"];b.each(x,function(A,B){var C,z;if(!A){if(y){C=":lt("+(w.index)+")"}else{C=":lt("+(w.index+1)+")"}z=0}else{if(y){C=":gt("+(w.index-1)+")"}else{C=":gt("+w.index+")"}if(e){z=c.w}else{if(h){if(y){z=w.prev.height()-d.h}else{z=w.slide.height()-d.h}}else{z=c.h}}}n.filter(C).each(function(){var E=b(this),D={slide:E,index:n.index(E),next:E.next(),prev:E.prev(),position:z};p.animateSlide.call(D,w)})});n.removeClass("selected").filter(y?w.prev:w.slide).addClass("selected")};p.transition=function(w){var x=this;this.slide.stop(true).animate(this.position,r.slideSpeed,m,function(){if(!p.animationFlag){r.onSlideClose.call(n.eq(p.previousSlide).children("div"));p.animationFlag=true}})};p.init=function(){if(typeof r.horizontalWidth!=="number"||typeof r.horizontalHeight!=="number"||typeof r.verticalHeight!=="number"){throw new Error("horizontalWidth, horizontalHeight, and verticalHeight options must be integers.")}s.hide();l.styles();s.imagesLoaded(function(){l.dimensions();l.ie();l.slidePositions();l.events();if(r.startClosed||h){l.startClosed()}s.show()});if(r.cycleSpeed<r.slideSpeed){r.cycleSpeed=r.slideSpeed}if(r.linkable){r.startClosed=false}if(r.autoPlay){t.play()}};p.init();return t};b.fn.accordionPro=function(e){var d=this,c=d.data("accordionPro");if(typeof e==="object"||!e){return d.each(function(){var f;if(c){return}f=new a(d,e);d.data("accordionPro",f)})}else{if(typeof e==="string"&&c[e]){if(e==="debug"){return c[e].call(d)}else{c[e].call(d);return d}}}}})(jQuery);