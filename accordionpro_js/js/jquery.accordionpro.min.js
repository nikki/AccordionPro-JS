(function(b){var a=function(s,f){var j={},r={},t={},l={},p={};j={orientation:"horizontal",startClosed:false,firstSlide:1,theme:"basic",rounded:false,rtl:false,showSlideNumbers:true,responsive:true,scaleImagesToFit:true,horizontalWidth:900,horizontalHeight:300,minResponsiveWidth:400,maxResponsiveWidth:1020,verticalWidth:"100%",verticalHeight:500,verticalSlideHeight:"fixed",activateOn:"click",touchEnabled:true,onSlideOpen:function(){},onSlideClose:function(){},autoPlay:false,cycleSpeed:6000,slideSpeed:800,easing:"ease-in-out",pauseOnHover:true,linkable:false};r=b.extend({},j,f);var i={w:0,h:0},n=s.children("ol").children("li"),c={w:0,h:0,l:0},q=n.children(":first-child"),d={w:0,h:48},k=0,o=0,g=0,e=r.orientation==="horizontal"?1:0,u=["linear","ease","ease-in","ease-out","ease-in-out"],m=b.inArray(r.easing,u)>=0?r.easing:j.easing,h=!e&&r.verticalSlideHeight==="fitToContent"?true:false;t.play=function(v){var w;if(p.playing){return}w=p.nextSlide(v&&v);p.playing=setTimeout(function(){q.eq(w()).trigger("click.accordionPro")},r.cycleSpeed)};t.stop=function(){clearTimeout(p.playing);p.playing=0};t.next=function(){t.stop();q.eq(p.currentSlide===c.length-1?0:p.currentSlide+1).trigger("click.accordionPro")};t.prev=function(){t.stop();q.eq(p.currentSlide-1).trigger("click.accordionPro")};t.destroy=function(){t.stop();b(window).off(".accordionPro");s.off(".accordionPro").removeData("accordionPro").removeAttr("style").removeClass("accordionPro horizontal vertical basic dark light stitch transparent rounded rtl closed responsive scaleImages").find("li > :first-child").off(".accordionPro").end().find("b").remove();n.removeClass("slide selected").removeAttr("style").removeAttr("data-slide-name").children().removeAttr("style")};t.debug=function(){return{elem:s,defaults:j,settings:r,methods:t,setup:l,core:p}};l.styles=function(){s.outerWidth(e?r.horizontalWidth:r.verticalWidth).outerHeight(e?r.horizontalHeight:r.verticalHeight).addClass("accordionPro").addClass(e?"horizontal":"vertical").addClass(r.rounded&&"rounded").addClass(r.theme).addClass(r.rtl&&"rtl").addClass(r.scaleImagesToFit&&"scaleImages");n.addClass("slide");c.l=n.length};l.dimensions=function(){var v=n.eq(0).children("div");i.w=s.width();i.h=s.height();o=s.outerHeight()-s.height();g=parseInt(v.css("marginLeft"),10)||parseInt(v.css("marginRight"),10)||parseInt(v.css("marginBottom"),10)||0;if(e){k=parseInt(s.css("paddingLeft"),10)+parseInt(s.css("paddingRight"),10)}else{k=parseInt(s.css("paddingTop"),10)+parseInt(s.css("paddingBottom"),10)}};l.getSlideCss=function(v,x){var y=0,w={slide:{},tab:{},panel:{}};if(e){c.w=i.w-c.l*d.h;c.h=i.h;w.slide.width=c.w+d.h;w.slide.height="100%";w.slide.position={left:v*d.h,top:0};w.tab.width=c.h;if(r.theme!=="transparent"){w.panel.width=c.w-g;w.panel.height=c.h;w.panel.position={left:d.h,top:0}}else{w.panel.width=c.w+d.h;w.panel.height=c.h;w.panel.position={left:0,top:0}}if(r.rtl){w.slide.position={left:"auto",right:v*d.h,top:0};if(r.theme!=="transparent"){w.panel.position={left:"auto",right:d.h-g,top:0}}else{w.panel.position={left:"auto",right:0-g,top:0}}}if(x.length&&v>n.index(x)){w.slide.position[r.rtl?"right":"left"]+=c.w}}else{c.w=q.eq(0).width();c.h=i.h-c.l*d.h;if(h){this.children("div").children().each(function(){y+=b(this).outerHeight()});w.slide.height=y+d.h+g;w.panel.height=y}else{w.slide.height=c.h+d.h;w.panel.height=w.slide.height-d.h-g}w.panel.position={top:d.h,left:0};w.slide.position={top:v*d.h,left:0};w.slide.width=w.tab.width=w.panel.width="100%";if(x.length){if(v>n.index(x)){if(h){w.slide.position.top+=x.height()-d.h}else{w.slide.position.top+=c.h}}}}return w};l.slidePositions=function(){var v=n.filter(".selected");if(!v.length&&!r.startClosed){n.eq(r.firstSlide-1).addClass("selected");v=n.filter(".selected")}n.each(function(x){var A=b(this),y=l.getSlideCss.call(A,x,v),z=A.children("h2"),w=z.children("b");A.width(y.slide.width).height(y.slide.height).css(y.slide.position).attr("data-slide-name",s[0].id+"-slide-"+(x+1)).children("h2").width(y.tab.width).height(d.h).next().width(y.panel.width).height(y.panel.height).css(y.panel.position);if(r.showSlideNumbers){if(w.length){return}z.append("<b>"+(x+1)+"</b>")}else{if(w.length){w.hide()}}});console.log("i dont think this is working");if(h&&!s.hasClass("closed")){p.fitToContent(v)}};l.startClosed=function(){if(r.startClosed){s.addClass("closed")}if(e){s.css("width",(c.l*d.h)+(o/2)+(k*2))}else{console.log(k,g,o);s.css("height",(c.l*d.h)+k*2)}};l.events=function(){var v=0;if(r.activateOn==="click"){q.on("click.accordionPro touchstart.accordionPro",p.animationCycle);if(r.startClosed){q.on("click.accordionPro.closed touchstart.accordionPro.closed",p.startClosed)}}else{if(r.activateOn==="mouseover"){q.on("click.accordionPro touchstart.accordionPro mouseover.accordionPro",p.animationCycle);if(r.startClosed){q.on("click.accordionPro.closed touchstart.accordionPro.closed mouseover.accordionPro.closed",p.startClosed)}}}if(Modernizr.touch&&r.touchEnabled){n.swipe({left:function(){if(e){if(r.rtl){if(p.currentSlide){t.prev()}}else{t.next()}}},right:function(){if(e){if(r.rtl){t.next()}else{if(p.currentSlide){t.prev()}}}},up:function(){if(!e){t.next()}},down:function(){if(!e&&p.currentSlide){t.prev()}},threshold:{x:100,y:100}})}if(r.pauseOnHover&&r.autoPlay){s.on("mouseover.accordionPro",function(){p.playing&&t.stop()}).on("mouseout.accordionPro",function(){!p.playing&&t.play(p.currentSlide)})}if(r.linkable){b(window).on("load.accordionPro hashchange.accordionPro",function(x){var w=n.filter(function(){return b(this).attr("data-slide-name")===window.location.hash.split("#")[1]});if(w.length){p.animationCycle.call(w.children("h2")[0],x)}})}if(r.orientation==="horizontal"&&r.responsive){p.responsive();b(window).on("resize.accordionPro orientationchange.accordionPro",function(){clearTimeout(v);v=setTimeout(function(){p.responsive()},200)})}};l.ie=function(){var w=navigator.userAgent,v=w.indexOf("MSIE");if(v<0){return}if(v!==-1){w=w.slice(v+5,v+7);w=+w;if(w<=7){t.destroy()}if(w>=10){return}if(w===8){n.each(function(x){b(this).addClass("slide-"+x)})}s.addClass("ie ie"+w)}};p.startClosed=function(){if(s.hasClass("closed")){if(e){s.css("width",r.horizontalWidth)}else{s.animate({height:h?(c.l-1)*d.h+o+n.filter(".selected").height():r.verticalHeight},r.slideSpeed)}s.removeClass("closed");q.off("click.accordionPro.closed touchstart.accordionPro.closed mouseover.accordionPro.closed");if(r.orientation==="horizontal"&&r.responsive){p.responsive()}}};p.fitToContent=function(v){if(!s.hasClass("closed")){s.animate({height:(c.l-1)*d.h+o+v.height()},r.slideSpeed);s.height((c.l-1)*d.h+v.height())}};p.responsive=function(){var v=s.parent().outerWidth(true);if(e){if(v<=r.minResponsiveWidth){e=0;if(!s.hasClass("ie8")){s.removeClass("horizontal").addClass("responsive").css(Modernizr.prefixed("transform"),"").css("margin-bottom",0)}else{s.removeClass("horizontal").addClass("responsive")}l.styles();if(!s.hasClass("closed")){s.height(c.l*d.h+c.h)}}else{p.scale()}}else{if(v>r.minResponsiveWidth&&s.hasClass("responsive")){e=1;s.removeClass("vertical responsive");l.styles();p.scale()}}i.w=s.width();i.h=s.height();l.slidePositions()};p.scale=function(){var w=Math.min(s.parent().outerWidth(true)/r.horizontalWidth),v=1;if(w>v){w=v}if(!s.hasClass("ie8")){s.css(Modernizr.prefixed("transform"),"scale("+w+")");if(e){s.css("margin-bottom",-(r.horizontalHeight-(r.horizontalHeight*w)))}}else{}};p.currentSlide=r.firstSlide-1;p.previousSlide=p.currentSlide;p.nextSlide=function(v){var w=v+1||p.currentSlide+1;return function(){return w++%c.l}};p.playing=0;p.animationFlag=false;p.getSlidePosition=function(w,x){var v={};if(typeof x==="number"){if(e){if(r.rtl){v={right:x+w*d.h}}else{v={left:x+w*d.h}}}else{v={top:x+w*d.h}}}else{if(e){if(r.rtl){v={right:c.w+w*d.h}}else{v={left:c.w+w*d.h}}}else{v={top:c.h+w*d.h}}}return v};p.animationCycle=function(x){var w=b(this),v={slide:w.parent(),index:q.index(w)};v.next=v.slide.next();v.prev=v.slide.prev();p.previousSlide=p.currentSlide;p.currentSlide=v.index;p.animationFlag=false;if(v.slide.hasClass("selected")){r.onSlideOpen.call(v.prev.children("div")[0]);if(e){if((r.rtl&&v.slide.position().left>i.w/2)||v.slide.position().left<i.w/2){p.animateSlide.call(v)}}else{if(h&&v.index){p.animateGroup(v,true);p.fitToContent(v.prev)}else{if(v.slide.position().top<i.h/2){p.animateSlide.call(v)}}}}else{setTimeout(function(){r.onSlideOpen.call(v.slide.children("div")[0])},r.slideSpeed);p.animateGroup(v);if(h){p.fitToContent(v.slide)}}if(r.autoPlay){t.stop();t.play(q.index(n.filter(".selected")))}};p.animateSlide=function(w){var v;if(typeof this.position==="undefined"){this.position=p.getSlidePosition.call(this,this.index);if(this.index){n.removeClass("selected").filter(this.prev).addClass("selected")}}else{if(typeof this.position==="number"){v=this.position;this.position=p.getSlidePosition(this.index,v)}}if(this.index){p.transition.call(this,w)}};p.animateGroup=function(v,x){var w=["left","right"];b.each(w,function(z,A){var B,y;if(!z){if(x){B=":lt("+(v.index)+")"}else{B=":lt("+(v.index+1)+")"}y=0}else{if(x){B=":gt("+(v.index-1)+")"}else{B=":gt("+v.index+")"}if(e){y=c.w}else{if(h){if(x){y=v.prev.height()-d.h}else{y=v.slide.height()-d.h}}else{y=c.h}}}n.filter(B).each(function(){var D=b(this),C={slide:D,index:n.index(D),next:D.next(),prev:D.prev(),position:y};p.animateSlide.call(C,v)})});n.removeClass("selected").filter(x?v.prev:v.slide).addClass("selected")};p.transition=function(v){var w=this;this.slide.stop(true).animate(this.position,r.slideSpeed,m,function(){if(!p.animationFlag){r.onSlideClose.call(n.eq(p.previousSlide).children("div"));p.animationFlag=true}})};p.init=function(){if(typeof r.horizontalWidth!=="number"||typeof r.horizontalHeight!=="number"||typeof r.verticalHeight!=="number"){throw new Error("horizontalWidth, horizontalHeight, and verticalHeight options must be integers.")}s.hide();l.ie();l.styles();s.imagesLoaded(function(){l.dimensions();l.slidePositions();l.events();if(r.startClosed||h){l.startClosed()}s.show()});if(r.cycleSpeed<r.slideSpeed){r.cycleSpeed=r.slideSpeed}if(r.linkable){r.startClosed=false}if(r.autoPlay){t.play()}};p.init();return t};b.fn.accordionPro=function(e){var d=this,c=d.data("accordionPro");if(typeof e==="object"||!e){return d.each(function(){var f;if(c){return}f=new a(d,e);d.data("accordionPro",f)})}else{if(typeof e==="string"&&c[e]){if(e==="debug"){return c[e].call(d)}else{c[e].call(d);return d}}}}})(jQuery);